
ğŸ“„ Respuestas al Trabajo PrÃ¡ctico: Data pipeline con CoinGecko y Delta Lake

âœ… Parte 1 â€“ ExtracciÃ³n y carga en formato Delta Lake

1. API utilizada
Se utilizÃ³ la API pÃºblica de CoinGecko (https://www.coingecko.com/en/api/documentation), que ofrece informaciÃ³n actualizada sobre criptomonedas y sus mercados.

2. Endpoints seleccionados
- /coins/list: 
  - Tipo de datos: estÃ¡ticos (metadatos de monedas)
  - TÃ©cnica de extracciÃ³n: Full
  - Frecuencia de cambio: poco frecuente

- /coins/markets:
  - Tipo de datos: dinÃ¡micos (precios, volumen, etc.)
  - TÃ©cnica de extracciÃ³n: Incremental
  - Frecuencia de cambio: minuto a minuto

3. LibrerÃ­as utilizadas
- requests â†’ para obtener los datos desde la API
- pandas â†’ para manipular los datos como DataFrames
- deltalake y pyarrow â†’ para guardar en formato Delta Lake

4. ConversiÃ³n y guardado en Delta Lake
Cada conjunto de datos se convierte a DataFrame y se guarda en un directorio dedicado dentro del datalake:

- bronze/: Datos crudos con mÃ­nimas transformaciones
- Particiones aplicadas:
  - markets: particionado por coin, date, day, hour
  - coins/list: particionado por date, hour

Se utiliza el archivo state/last_extraction.json para controlar la extracciÃ³n incremental.

âœ… Parte 2 â€“ Transformaciones con Pandas

Se aplicaron al menos 4 transformaciones a los datos crudos de bronze y se guardaron los resultados en silver.

Transformaciones aplicadas:
1. EliminaciÃ³n de duplicados â†’ usando columnas id + last_updated
2. Reemplazo de valores nulos â†’ usando fillna con un mapa de imputaciÃ³n
3. ConversiÃ³n de tipos â†’ cast a tipos Ã³ptimos para eficiencia de memoria
4. CreaciÃ³n de columnas:
   - avg_price: precio promedio por moneda
   - is_high_value: True si el precio > 50.000 USD
5. Agregaciones estadÃ­sticas por moneda
6. Renombrado de columnas para mejor claridad

ğŸ—‚ï¸ Estructura del Data Lake

datalake/
â”œâ”€â”€ bronze/
â”‚   â””â”€â”€ coingecko/
â”‚       â”œâ”€â”€ markets/
â”‚       â””â”€â”€ coins/
â””â”€â”€ silver/
    â””â”€â”€ coingecko/
        â”œâ”€â”€ markets/
        â””â”€â”€ coins/

ğŸ› ï¸ Consideraciones TÃ©cnicas
- El pipeline es ejecutado por main.py
- Se verifica la Ãºltima ejecuciÃ³n para extracciÃ³n incremental
- Se aplican validaciones, logs y manejo de errores

